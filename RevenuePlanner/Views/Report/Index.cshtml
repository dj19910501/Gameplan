@using RevenuePlanner.Helpers
@{
    string SelectedYear = ViewBag.SelectedYear;
    var ViewBusinessUnitSelectedValue = (List<SelectListItem>)ViewBag.ViewBusinessUnit;
    var ViewPlanSelectedValue = (List<SelectListItem>)ViewBag.ViewPlan;
    var ViewGeographySelectedValue = (List<SelectListItem>)ViewBag.ViewGeography;
    var ViewVerticalSelectedValue = (List<SelectListItem>)ViewBag.ViewVertical;
    var ViewAudienceSelectedValue = (List<SelectListItem>)ViewBag.ViewAudience;
    string AudienceLabel = Common.CustomLabelFor(Enums.CustomLabelCode.Audience);
    string AudienceLabelTitle = string.Empty;
    if (AudienceLabel.Length > 10)
    {
        AudienceLabelTitle = AudienceLabel;
        AudienceLabel = AudienceLabel.Substring(0, 10) + "...";
    }
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<script type="text/javascript" src="@Url.Content("~/Scripts/dhtmlxchart.js")"></script>
<link href="@Url.Content("~/Content/css/dhtmlxchart.css")" rel="stylesheet" type="text/css" />
@section nlFormContent{
    <link rel="stylesheet" href="@Url.Content("~/Content/css/NaturalLanguageForm/default.css")" type="text/css" />
    <link rel="stylesheet" href="@Url.Content("~/Content/css/NaturalLanguageForm/component.css")" type="text/css" />
    <script type="text/javascript" src="@Url.Content("~/Scripts/js/NaturalLanguageForm/modernizr.custom.js")"></script>
    <script type="text/javascript" src="@Url.Content("~/Scripts/js/NaturalLanguageForm/nlform.js")"></script>
}
<link rel="stylesheet" href="@Url.Content("~/Content/css/jquery.mCustomScrollbar.css")" type="text/css" />
<script type="text/javascript" src="@Url.Content("~/Scripts/js/jquery.slimscroll.js")"></script>
<script type="text/javascript" src="@Url.Content("~/Scripts/js/slimScrollHorizontal.js")"></script>
<script type="text/javascript" src="@Url.Content("~/Scripts/js/jquery.mCustomScrollbar.concat.min.js")"></script>
<script type="text/javascript" src="@Url.Content("~/Scripts/js/jquery.actual.js")"></script>
<script type="text/javascript" src="@Url.Content("~/Scripts/js/jquery-ui.js")"></script>
<script type="text/javascript" src="@Url.Content("~/Scripts/js/jquery.multiselect.js")"></script>
<script type="text/javascript" src="@Url.Content("~/Scripts/js/jquery.multiselect.filter.js")"></script>
<link href="@Url.Content("~/Content/css/jquery.multiselect.css")" rel="stylesheet" type="text/css" />
<style type="text/css">
    .verticalIdSelectBox .sbHolder {
        width: 10% !important;
    }
</style>

@section Sidebar
{
    <div class="padding-content padding-bottom0">
        <h4 class="text-shadow-black source-sans-prolight">Reports</h4>
        <br />
        <div class="wraper-btns cf">
            <div class="span6" id="divAddActual">
                @if ((bool)ViewBag.TacticActualsAddEdit) // Added by Sohel Pathan on 27/06/2014 for PL ticket #537 to implement user permission Logic
                {
                    <button id="BtnAddActual" class="btn btn-blue text-shadow-blue source-sans-proregular" type="button" onclick="window.location.href='@Url.Action("AddActual", "Home")'">Add Actuals</button>    
                }
            </div>
            <div class="span6">
                <button class="btn btn-blue text-shadow-blue source-sans-proregular" type="button" id="BtnShareReport">Share Report</button>
            </div>
        </div>
    </div>
    <ul class="nav nav-list nav-gray-reports" id="ulLeftPane">
        <li class="item active" id="liSummary">
            <a class="source-sans-probold summary"><span></span>SUMMARY</a>
        </li>
        <li class="item" id="liRevenue">
            <a class="source-sans-probold revenue"><span></span>REVENUE</a>
        </li>
        <li class="item" id="liConversion">
            <a class="source-sans-probold conversion"><span></span>CONVERSION</a>
        </li>
         <li class="item" id="liBudget">
            <a class="source-sans-probold budget"><span></span>BUDGET</a>
        </li>
    </ul>
}
<div id="budgetHeader" class="budgetColums budgetReporting" style="display: none">
    <div class="plannedCost">
        <h3 class="source-sans-proregular">Today is <span id="SpanTodayDate">08/15/2014</span>. You are in <span id="SpanCurrentQuarter">Q3</span>.<br>
            So far, you've spent <span id="SpanTotalSpend">$2.5M</span> out of <span id="SpanTotalBudgeted">$4.8M</span>.</h3>
        <div style="clear: both;"></div>
    </div>
    <div class="budgetCompare">
        <h3 class="source-sans-proregular" id="monthCompareTitle"></h3>
        <div class="budgetCompareInner" id="monthContainer">
    </div>
        <div style="clear: both;"></div>
    </div>
</div>

<div id="revenueHeader" class="budgetColums budgetReporting" style="display: none">
    <div class="plannedCost">
        <h3><span>Marketing Revenue</span>
            <br />
        </h3>
        <div style="clear: both;"></div>
    </div>
    <div class="budgetCompare">
        <div id="RevenueActualDiv" class="header-right-blocks">
        <p class="source-sans-probold">Actual</p>
            <p class="value source-sans-prolight" style="font-size: 30px;" id="revenueActual"></p>
        <h5 id="revenueActualPercentage"></h5>
    </div>
        <div id="RevenueProjectedDiv" class="header-right-blocks block-last">
        <p class="source-sans-probold">Projected</p>
            <p class="value source-sans-prolight" id="revenueProjected" style="font-size: 30px;"></p>
        <p class="ellipsis-block FormatingBlock">Revenue</p>

    </div>
    </div>
</div>

<div id="conversionHeader" class="budgetColums budgetReporting" style="display: none">
    <div class="plannedCost">
        <h3><span>Waterfall Conversion</span>
            <br />
        </h3>
        <div style="clear: both;"></div>
    </div>
    <div class="budgetCompare">
        <div class="white-chart" id="mqlActualDiv" style="width: 45% !important; float: left; border-right: 1px solid #e6e6e6 !important; margin-right: 5%;">
            <p class="source-sans-probold">Actual</p>
            <p class="value source-sans-prolight" id="mqlActual" style="font-size: 30px;"></p>
            <h5 id="mqlActualPercentage"></h5>
        </div>
        <div class="white-chart" id="mqlProjectedDiv" style="width: 45% !important; float: left;">
            <p class="source-sans-probold">Projected</p>
            <p class="value source-sans-prolight" id="mqlProjected" style="font-size: 30px;"></p>
            <p class="ellipsis-block FormatingBlock">@Html.LabelForMQL("MQL")</p>

        </div>
    </div>
</div>

<!-- Budget Reporting Filter area -->
<div class="budgetReportFilter-area clearfix">
    <div class="budgetReportFilter-area-left">

        <!--Start modified by Mitesh Vaishnav for PL ticket #727 - Added "noneselectedvalue" attribute to dropdownlist.-->
        <div class="multiselection-area">
            <span class="selectBox" id="ddlYearSpan" style="width: 115px; line-height: 2.5; padding-right: 7px;">
                @Html.DropDownList("ddlYear", new SelectList((System.Collections.IEnumerable)ViewBag.ViewYear, "Value", "Text", SelectedYear), new { @class = "ddlStyleReport" })
            </span>
            @Html.DropDownList("ddlViewBusinessUnit", new MultiSelectList((System.Collections.IEnumerable)ViewBag.ViewBusinessUnit, "Value", "Text", ViewBusinessUnitSelectedValue.Where(b => b.Selected).Select(b => b.Value)), new { @class = "multiselection-select", multiple = "multiple", id = "ddlViewBusinessUnit", noneselectedvalue = "Business Units", style = "display:none" })
            @Html.DropDownList("ddlPlan", new MultiSelectList((System.Collections.IEnumerable)ViewBag.ViewPlan, "Value", "Text", ViewPlanSelectedValue.Where(p => p.Selected).Select(p => p.Value)), new { @class = "multiselection-select", multiple = "multiple", id = "ddlPlan", noneselectedvalue = "Plans", style = "display:none" })
            @Html.DropDownList("ddlViewGeography", new MultiSelectList((System.Collections.IEnumerable)ViewBag.ViewGeography, "Value", "Text", ViewGeographySelectedValue.Where(g => g.Selected).Select(g => g.Value)), new { @class = "multiselection-select", multiple = "multiple", id = "ddlViewGeography", noneselectedvalue = "Geography", style = "display:none" })
            @Html.DropDownList("ddlViewVertical", new MultiSelectList((System.Collections.IEnumerable)ViewBag.ViewVertical, "Value", "Text", ViewVerticalSelectedValue.Where(v => v.Selected).Select(v => v.Value)), new { @class = "multiselection-select", multiple = "multiple", id = "ddlViewVertical", noneselectedvalue = "Verticals", style = "display:none" })
            @Html.DropDownList("ddlViewAudience", new MultiSelectList((System.Collections.IEnumerable)ViewBag.ViewAudience, "Value", "Text", ViewAudienceSelectedValue.Where(a => a.Selected).Select(a => a.Value)), new { @class = "multiselection-select", multiple = "multiple", id = "ddlViewAudience", noneselectedvalue = @AudienceLabel, style = "display:none" })
           

        </div>
        <!--End modified by Mitesh Vaishnav for PL ticket #727 - Added "noneselectedvalue" attribute to dropdownlist.-->
        <div class="ActiveFilter">
            Active Filters
        </div>
        <div class="filter-detail">
            <label>Year:</label>
            <div class="details" id="yeardetail"></div>
            <label>Business Units:</label>
            <div class="details" id="businessunitdetail">All</div>
            <label>Plans:</label>
            <div class="details" id="plandetail"></div>
            <label id="lblGeography">Geography:</label>
            <div class="details" id="geographydetail">All</div>
            <label id="lblVerticals">Verticals:</label>
            <div class="details" id="verticaldetail">All</div>
            <label id="lblAudience">@Html.CustomLabelFor(Enums.CustomLabelCode.Audience):</label>
            <div class="details" id="audiencedetail">All</div>
        </div>
    </div>
    <div class="budgetReportFilter-area-right">
        <button id="button-save" class="btn btn-blue btn-large text-shadow-blue source-sans-proregular" name="button-save">Update</button>
    </div>
</div>
<!-- Budget Reporting Filter area -->

<div id="divMainReportPart">
</div>
<div id="DivShareReport">
</div>
<script type="text/javascript">

        var SelectedBUId, SelectedPlanId;
        var isBusinessUnit = false;
        var IsCallFromYearDropdown = true;
    var OptionMain = $('#ddlYear').val();;
    var isAllowClick = true;
    var multiselectPlanId = "ddlPlan";
    var filterPlanid = "#plandetail";
    var ddlViewAudience = "ddlViewAudience";
    var ddlViewVertical = "ddlViewVertical"
    var ddlViewBusinessUnit = "ddlViewBusinessUnit";
    var ddlViewGeography = "ddlViewGeography";

    var audiencedetail = "#audiencedetail";
    var verticaldetail = "#verticaldetail";
    var businessunitdetail = "#businessunitdetail";
    var geographydetail = "#geographydetail";
        var leftPaneOption = '@RevenuePlanner.Helpers.Enums.ReportType.Summary.ToString()';

    $(document).ready(function () {

        $("#ddlYearSpan select").selectbox();

        ///Start Modified by Mitesh Vaishnav for PL ticket #727
        $(".budgetReportFilter-area").find(".multiselection-select").each(function () {
            $(this).multiselect({ noneSelectedText: $(this).attr('noneselectedvalue') }).multiselectfilter();
                });

        $(".sbSelector").css("color", "#6D6D6D");
        $(".sbToggle").css("border-top-color", "#6D6D6D");

        $("#yeardetail").html("FY " + $('#ddlYear').val());
        $("#ddlViewAudience").next().attr('title', '@AudienceLabelTitle');
        LoadCheckBoxValue(multiselectPlanId, filterPlanid);
        LoadCheckBoxValue(ddlViewAudience, audiencedetail);
        LoadCheckBoxValue(ddlViewVertical, verticaldetail);
        LoadCheckBoxValue(ddlViewBusinessUnit, businessunitdetail);
        LoadCheckBoxValue(ddlViewGeography, geographydetail);
        LoadYearDropdown();
        loadBasedOnPlan();
        $("#DivShareReport").hide();


                });

    // <--- End document.ready Event --->

    function LoadCheckBoxValue(multiselectId, filterid) {
        var finalValue = "";
        var isAll = true;
        $('#multipleselect_' + multiselectId).find("input[type='checkbox']").each(function () {
            if (this.checked) {
                finalValue += $(this).parent().find('span').eq(0).html() + ",  ";
            }
            else {
                isAll = false;
            }
            });
        finalValue = finalValue.slice(0, -3);
        if (finalValue == '') {
            finalValue = 'None';
        }
        if (isAll) {
            finalValue = 'All';
        }
        $(filterid).html(finalValue);
    }

    function LoadPlanData() {
        var strYear=OptionMain;
        if (OptionMain == 'thisquarter') {
            strYear = new Date().getFullYear();
        }
            $.ajax({
                type: 'POST',
            url: '@Url.Content("~/Report/GetBudgetPlanBasedOnYear/")',
                data: {
                Year: strYear
                },
                success: function (r) {
                
                //   alert(JSON.stringify(r));
                populatePlan(r, "ddlPlan");

                }
            });
        }

        function RemoveAllActiveItem() {
            $('#ulLeftPane li').each(function () {
                if ($(this).hasClass('active')) {
                    $(this).removeClass('active');
                }
            });
        }

        function LoadRespectiveData() {
            if (leftPaneOption == '@RevenuePlanner.Helpers.Enums.ReportType.Revenue.ToString()') {
                LoadRevenueData();
            }
            else if (leftPaneOption == '@RevenuePlanner.Helpers.Enums.ReportType.Conversion.ToString()') {
                LoadConversionData();
            }
        }
    ///Added by Mitesh Vaishnav for PL ticket #846
    ///If running tab is summary or Revenue or conversion than hide specific filters
    function HideFilters() {
        $('#btnMultiselect_ddlViewGeography').css('display', 'none');
        $('#btnMultiselect_ddlViewVertical').css('display', 'none');
        $('#btnMultiselect_ddlViewAudience').css('display', 'none');
        $('#lblGeography').css('display', 'none');
        $('#geographydetail').css('display', 'none');
        $('#lblVerticals').css('display', 'none');
        $('#verticaldetail').css('display', 'none');
        $('#lblAudience').css('display', 'none');
        $('#audiencedetail').css('display', 'none');
    }
    ///Added by Mitesh Vaishnav for PL ticket #846
    ///If running tab is budgeting than show specific filters
    function ShowFilters() {
        $('#btnMultiselect_ddlViewGeography').css('display', 'initial');
        $('#btnMultiselect_ddlViewVertical').css('display', 'initial');
        $('#btnMultiselect_ddlViewAudience').css('display', 'initial');
        $('#lblGeography').css('display', 'initial');
        $('#geographydetail').css('display', 'initial');
        $('#lblVerticals').css('display', 'initial');
        $('#verticaldetail').css('display', 'initial');
        $('#lblAudience').css('display', 'initial');
        $('#audiencedetail').css('display', 'initial');
    }
        function LoadSummary() {
        HideFilters();
        $('#budgetHeader').css('display', 'none');
            $('#UlPlanHeader').css('display', 'block');
            $('#formSideFilter').css('display', 'block');
            $("#divAddActual").css("display", "block");
            $('#divMainReportPart').empty();
        $('#conversionHeader').css('display', 'none');
        $('#revenueHeader').css('display', 'none');

            var url = '@Url.Content("~/Report/GetSummaryData/")';
        $('#divMainReportPart').load(url, function () {
                isAllowClick = true;
                myApp.hidePleaseWait();
            });

        }

        function LoadRevenueView() {
        HideFilters();
        $('#conversionHeader').css('display', 'none');
        $('#revenueHeader').css('display', 'block');
        }

        function LoadConversionView() {
        HideFilters();
        $('#conversionHeader').css('display', 'block');
        $('#revenueHeader').css('display', 'none');
        }

        function loadBasedOnPlan() {	   
			 var isActualVisible = "@ViewBag.TacticActualsAddEdit"
            if (isActualVisible.toString().toLowerCase() == 'true') {
                if (SelectedPlanId == 0) {
                   $("#BtnAddActual").attr("disabled", "disabled");
                }
                else {
                    $("#BtnAddActual").removeAttr("disabled");
                }
            }

            if (leftPaneOption == '@RevenuePlanner.Helpers.Enums.ReportType.Summary.ToString()') {
                LoadSummary();
            }
            else if (leftPaneOption == '@RevenuePlanner.Helpers.Enums.ReportType.Revenue.ToString()') {
                LoadRevenueData();
            }
            else if (leftPaneOption == '@RevenuePlanner.Helpers.Enums.ReportType.Conversion.ToString()') {
                LoadConversionData();
            }
    }

        function LoadRevenueData() {
        $('#budgetHeader').css('display', 'none');
            $('#UlPlanHeader').css('display', 'block');
            $('#formSideFilter').css('display', 'block');
            $("#divAddActual").css("display", "block");
            $('#divMainReportPart').empty();

            var url = '@Url.Content("~/Report/GetRevenueData/")';
        $('#divMainReportPart').load(url + '?timeFrameOption=' + OptionMain, function () {
                isAllowClick = true;
                myApp.hidePleaseWait();
            });
        }

        function LoadConversionData() {
        $('#budgetHeader').css('display', 'none');
            $('#UlPlanHeader').css('display', 'block');
            $('#formSideFilter').css('display', 'block');
            $("#divAddActual").css("display", "block");
            $('#divMainReportPart').empty();
            var url = '@Url.Content("~/Report/GetConversionData/")';
        $('#divMainReportPart').load(url + '?timeFrameOption=' + OptionMain, function () {
                isAllowClick = true;
                myApp.hidePleaseWait();
            });
        }

        function LoadBudgetView() {
        ShowFilters();
        $('#budgetHeader').css('display', 'block');
        $('#conversionHeader').css('display', 'none');
        $('#revenueHeader').css('display', 'none');
            $('#UlPlanHeader').css('display', 'none');
            $('#formSideFilter').css('display', 'none');
            
            var url = '@Url.Content("~/Report/GetBudget/")';
            $('#divMainReportPart').load(url, function () {
                isAllowClick = true;
                myApp.hidePleaseWait();
            });
        }
        
        function GetFilterIdForPlan(multiselectId) {
            var finalValue = "";
            var isShowAddActual = 0;
            $('#multipleselect_' + multiselectId).find("input[type='checkbox']").each(function () {
                if (this.checked) {
                    isShowAddActual++;
                    var splitvalue = $(this).val().split("_");
                    finalValue += splitvalue[0] + ",";
                }
        });

            finalValue = finalValue.slice(0, -1);
            if (finalValue == '') {
                finalValue = '';
            }
            if (isShowAddActual == 1) {
                $("#divAddActual").css("display", "block");
            }
            else {
                $("#divAddActual").css("display", "none");
            }

            return finalValue;

        }
        function GetFilterId(multiselectId) {
            var finalValue = "";
            $('#multipleselect_' + multiselectId).find("input[type='checkbox']").each(function () {
                if (this.checked) {
                    finalValue += $(this).val() + ",";
                }
            });

            finalValue = finalValue.slice(0, -1);
            if (finalValue == '') {
                finalValue = '';
            }
            return finalValue;

        }
        function LoadBudgetData() {
            if (isByAllocated) {
                $('#divTabData').load('@Url.Action("GetReportBudgetData", "Report")' + '?GeographyIds=' + GeographyIds + '&VerticalIds=' + VerticalIds + '&AudienceIds=' + AudienceIds + '&Year=' + OptionMain + '&AllocatedBy=' + AllocatedBy + '&Tab=' + Tab + '&SortingId=' + SortingId);
        }
    }

    function populatePlan(items, id) {
        var $dropdown = $("#" + id);
        $dropdown.empty();
        var $html = '';
        if (items.length > 0) {

            $.each(items, function (index, planobj) {
                if (planobj.Selected) {
                    $html += '<option value="' + planobj.Value + '" selected>' + planobj.Text + '</option>';
                } else {
                    $html += '<option value="' + planobj.Value + '">' + planobj.Text + '</option>';
                }
            });
        }
        // alert($html);
        $dropdown.append($html);

        //start Added by Mitesh Vaishnav for PL ticket #727
        //update multiselect box as its related dropdownlist's option will be changed
        // var updatedOption = $("#ddlPlan").find('option');

        //End Added by Mitesh Vaishnav for PL ticket #727
        $("#multipleselect_ddlPlan").find("input[type='search']").val('');
        $('#ddlPlan').multiselect("refresh");
        LoadCheckBoxValue(multiselectPlanId, filterPlanid);
    }

        function ShowShareReport() {
            var url = '@Url.Content("~/Report/ShowShareReport/")';
            $("#DivShareReport").empty()
                                       .load(url.concat('?reportType=') + leftPaneOption)
                                       .show();
        }

    $(".sbSelector").click(function () {
        $(".ui-multiselect-menu").each(function () {
            $(this).css("display", "none");
        });
    });

    $('#button-save').click(function () {
        OptionMain = $('#ddlYear').val();
        $("#yeardetail").html("FY " + $('#ddlYear').val());
        LoadCheckBoxValue(multiselectPlanId, filterPlanid);
        LoadCheckBoxValue(ddlViewAudience, audiencedetail);
        LoadCheckBoxValue(ddlViewVertical, verticaldetail);
        LoadCheckBoxValue(ddlViewBusinessUnit, businessunitdetail);
        LoadCheckBoxValue(ddlViewGeography, geographydetail);
        PlanIds = GetFilterIdForPlan(multiselectPlanId);
        VerticalIds = GetFilterId(ddlViewVertical);
        GeographyIds = GetFilterId(ddlViewGeography);
        BusinessUnitIds = GetFilterId(ddlViewBusinessUnit);
        AudienceIds = GetFilterId(ddlViewAudience);
        SortingId = '';
        $.ajax({
            type: 'POST',
            url: '@Url.Content("~/Report/SetReportData/")',
            data: {
                businessUnitIds: BusinessUnitIds,
                planIds: PlanIds
            },
            success: function (data) {
                if (data.status) {
                    if (leftPaneOption == '@RevenuePlanner.Helpers.Enums.ReportType.Summary.ToString()') {
                        LoadSummary();
                    }
                    else if (leftPaneOption == '@RevenuePlanner.Helpers.Enums.ReportType.Revenue.ToString()') {
                        LoadRevenueData();
                    }
                    else if (leftPaneOption == '@RevenuePlanner.Helpers.Enums.ReportType.Conversion.ToString()') {
                            LoadConversionData();
                        }
                        else if (leftPaneOption == '@RevenuePlanner.Helpers.Enums.ReportType.Budget.ToString()') {
                            LoadBudgetView();
                        }
            }


            }
        });
    });

$("#ddlYear").change(function () {
    OptionMain = $('#ddlYear').val();
    if (IsCallFromYearDropdown) {
    LoadPlanData();
    }
});

function LoadYearDropdown() {
    var isClick = false;
    $("#ddlYear").next().find('ul li a').each(function () {
        var selectedvalue = $(this).attr('rel');
        if (selectedvalue == 'thisquarter') {
            if (leftPaneOption == '@RevenuePlanner.Helpers.Enums.ReportType.Summary.ToString()') {
                isClick = true;
            }
            else if (leftPaneOption == '@RevenuePlanner.Helpers.Enums.ReportType.Revenue.ToString()') {
                isClick = false;
            }
            else if (leftPaneOption == '@RevenuePlanner.Helpers.Enums.ReportType.Conversion.ToString()') {
                isClick = false;
            }
            else if (leftPaneOption == '@RevenuePlanner.Helpers.Enums.ReportType.Budget.ToString()') {
                isClick = true;
            }

            if (isClick == true) {
                $(this).parent().css('display', 'none');
            }
            else
            {
                $(this).parent().css('display', 'block');
            }
        }
    });
    $("#ddlYear").next().find('ul li a').each(function () {
        if (isClick == true)
        {
            var selectedvalue = $(this).attr('rel');
            if (selectedvalue == '@RevenuePlanner.Helpers.Common.GetCurrentYear()') {
                IsCallFromYearDropdown = false;
                $(this).click();
                IsCallFromYearDropdown = true;
            }
        }
    });
}

$('#liSummary').click(function () {
    if (isAllowClick) {
        isAllowClick = false;
        leftPaneOption = '@RevenuePlanner.Helpers.Enums.ReportType.Summary.ToString()';
        LoadYearDropdown(leftPaneOption);
        RemoveAllActiveItem();
        $(this).addClass('active');
        isBusinessUnit = false;
        loadBasedOnPlan();
        //loadPlanFromBusinessUnit();
        //if (SelectedPlanId == 0) {

        //}
        //else {
        //    LoadSummary();
        //}
    }
});

    $('#liRevenue').click(function () {
    if (isAllowClick) {
        isAllowClick = false;
        leftPaneOption = '@RevenuePlanner.Helpers.Enums.ReportType.Revenue.ToString()';
        LoadYearDropdown(leftPaneOption);
        RemoveAllActiveItem();
        $(this).addClass('active');
        isBusinessUnit = false;
        LoadRevenueView();
        loadBasedOnPlan();
        //FillTimeFrameDropDown();
    }
});

    $('#liConversion').click(function () {
    if (isAllowClick) {
        isAllowClick = false;
        leftPaneOption = '@RevenuePlanner.Helpers.Enums.ReportType.Conversion.ToString()';
        LoadYearDropdown(leftPaneOption);
                RemoveAllActiveItem();
                $(this).addClass('active');
                isBusinessUnit = false;
                LoadConversionView();
                loadBasedOnPlan();
                //FillTimeFrameDropDown();
            }
        });

        $('#liBudget').click(function () {
            if (isAllowClick) {
                isAllowClick = false;
                leftPaneOption = '@RevenuePlanner.Helpers.Enums.ReportType.Budget.ToString()';
                LoadYearDropdown(leftPaneOption);
                RemoveAllActiveItem();
                $(this).addClass('active');
                LoadBudgetView();
            }
        });
        $("#BtnShareReport").click(function () {
            ShowShareReport();
    });
        ///Added by Mitesh Vaishnav for generate multiselect dropdownlist with no filter or no custom border
        function GenerateCustomizeMultiselect(id, isFilterApply, isCustomBorderApply, isMultiple) {
            var custom="";
            if (isCustomBorderApply) {
                custom = '@Common.CustomTitle';
            }
           
            if (isFilterApply) {
                $("#" + id).multiselect({
                    multiple: isMultiple,
                    CustomName: custom,
                    selectedList: 1
                }).multiselectfilter();
            }
            else {
                $("#" + id).multiselect({
                    multiple: isMultiple,
                    selectedList: 1,
                    CustomName: custom
                });
            }
            };
</script>
