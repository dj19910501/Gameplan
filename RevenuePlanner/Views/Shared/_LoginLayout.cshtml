@using RevenuePlanner.Helpers

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>@ViewBag.Title</title>
    <link rel="shortcut icon" href="@Url.Content("~/Content/images/favicon.png")">
    <meta name="viewport" content="width=device-width" />
    <meta name="robots" content="noindex">
    @if (RevenuePlanner.Helpers.Common.IsDebug)
    {
        <link rel="stylesheet" href="@Url.Content("~/Content/css/bootstrap.min.css")" type="text/css" />
        <link rel="stylesheet" href="@Url.Content("~/Content/css/bootstrap-responsive.min.css")" type="text/css" />
        <link rel="stylesheet" href="@Url.Content("~/Content/css/style.css")" type="text/css" />
        <link rel="stylesheet" href="@Url.Content("~/Content/css/style_extended.css")" type="text/css" />
        <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
        <!--[if lt IE 9]>
    <script src=""@Url.Content("~/Scripts/js/html5shiv.js")"></script>
    <![endif]-->
        <script type="text/javascript" src="@Url.Content("~/Scripts/js/jquery.min.js")"></script>
        <script type="text/javascript" src="@Url.Content("~/Scripts/js/bootstrap.min.js")"></script>
    }
    else
    {
        <link rel="stylesheet" href="@Url.Content("~/Content/css/bootstrap.min.css")" type="text/css" />
        <link rel="stylesheet" href="@Url.Content("~/Content/css/bootstrap-responsive.min.css")" type="text/css" />
        <link rel="stylesheet" href="@Url.Content("~/Content/css/style.css")" type="text/css" />
        <link rel="stylesheet" href="@Url.Content("~/Content/css/style_extended.css")" type="text/css" />
        <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
        <!--[if lt IE 9]>
		<script src="//cdn.jsdelivr.net/html5shiv/3.6.2/html5shiv.js"></script>
		<![endif]-->   
        <script type="text/javascript" src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-2.0.0.min.js"></script>
        <script type="text/javascript" src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
    }

</head>
<body class="gradient">
    <div class="container-fluid all-height">

        <div class="row-fluid">
            <div id="header" class="span12">
                <div class="bulldog-logo"></div>
                <span class="title text-shadow-black source-sans-prolight">Bulldog @Sessions.ApplicationName™</span>
                <div class="mrp-logo"></div>
            </div>
        </div>

        <div class="row-fluid calc-height">

            <div class="span12">
                <div id="errorMessage" class="alert alert-error hide">
                    <a class="close">×</a>
                    <strong>Error!</strong>
                    <div id="cErrors">@Html.ValidationSummary(true)</div>
                </div>

                <div class="login-wrapper">
                    @RenderBody()

                    <div class="icon-info-support conv_helveticaltstd-light">

                        <a href="#" id="ContactSupport">
                            <div class="support-icon"></div>
                            Contact Support</a><br />
                        @Sessions.ApplicationName @Html.Raw("Release [")@DateTime.Now.Year @Html.Raw(".")@DateTime.Now.ToString("MMMM")@Html.Raw("]")
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div id="div_contactSupport"></div>
</body>
</html>
<script type="text/javascript">
    $.ajaxSetup({
        beforeSend: function (x) { //Called before every request
            myApp.showPleaseWait();
        },
        error: function (x, e) { // Called when error occured
            myApp.hidePleaseWait();
        }
    });
    $(document).ajaxStop(function () { //Called after every ajax request completed
        myApp.hidePleaseWait();
    });
    var myApp;
    myApp = myApp || (function () {
        var pleaseWaitDiv = $('<div style="z-index:99999" class="modal hide" id="pleaseWaitDialog" data-backdrop="static" data-keyboard="false"><div class="modal-header">Please wait...</div><div class="modal-body"><div class="progress progress-striped active"><div class="bar" style="width: 100%;"></div></div></div></div>');
        return {
            showPleaseWait: function () {
                pleaseWaitDiv.modal();
            },
            hidePleaseWait: function () {
                pleaseWaitDiv.modal('hide');
            },

        };
    })();
    $(document).ready(function () {
        $(".alert").find(".close").on("click", function (e) {
            e.stopPropagation();
            e.preventDefault();
            $(this).closest(".alert").slideUp(400);
        });

        $('#ContactSupport').click(function () {
            $("#div_contactSupport").empty();
            var url = '@Url.Content("~/Login/LoadSupportPartial/")';
            $("#div_contactSupport").load(url);
        });
    });
</script>
