@using RevenuePlanner.Helpers

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>@ViewBag.Title</title>
    <link rel="shortcut icon" href="@Url.Content("~/Content/images/favicon.png")">
    <meta name="viewport" content="width=device-width" />
    <meta name="robots" content="noindex">

     @Styles.Render("~/Content/css/GetCSSForLogin")
        <link rel="stylesheet" href="@Url.Content("~/Content/css/bootstrap-responsive.min.css")" type="text/css" />
        <link rel="stylesheet" href="@Url.Content("~/Content/css/style.css?n=")@DateTime.Now" type="text/css" />
        <link rel="stylesheet" href="@Url.Content("~/Content/css/style_extended.css?n=")@DateTime.Now" type="text/css" />


    @Scripts.Render("~/bundles/GetJSForLogin")
            <script type="text/javascript" src="@Url.Content("~/Scripts/js/scripts.js?n=")@DateTime.Now"></script>


</head>
<body class="gradient">
    @* Start - Added by :- Sohel Pathan on 22/05/2014 for PL #469 *@
    <style type="text/css">
        .icon-info-support {
            width:300px;
        }
    </style>
    @* End - Added by :- Sohel Pathan on 22/05/2014 for PL #469 *@
    <div class="container-fluid all-height">

        <div class="row-fluid">
            <div id="header" class="span12">
                <div class="bulldog-logo"></div>
                <span class="title source-sans-prolight">@Sessions.ApplicationName™</span>@*changed - added by uday #559*/*@
                <div class="mrp-logo"></div>
            </div>
        </div>

        <div class="row-fluid calc-height">

            <div class="span12">
                <div id="errorMessage" class="alert alert-error hide">
                    <a class="close">×</a>
                    <strong>Error!</strong>
                    <div id="cErrors">@Html.ValidationSummary(true)</div>
                </div>
                 <div id="TimeOuterrorMessage" class="alert alert-error hide" style="float:left;margin-left:200px;width:70%;margin-top:5px;border:1px solid;">
                    <a class="close">×</a>
                    <strong style="float:left;">Timed out.</strong>
                    <div id="timeOutcErrors" style="float:left;width:470px;"> You were logged out of Gameplan<sup>TM</sup> due to inactivity. Please log in again.</div>
                </div>
                <div class="login-wrapper">
                    @RenderBody()

                    <div class="icon-info-support conv_helveticaltstd-light">

                        <a href="#" id="ContactSupport">
                            <div class="support-icon"></div>
                            Contact Support</a>
                        @* Start - Added by :- Pratik Chauhan on 22/09/2014 for PL ticket #468 to display maintenance page *@
                        @if (!@Common.IsOffline)
                        {

                            <br />
                             @Sessions.ApplicationName @Html.Raw(" Release [")@ViewBag.ApplicationReleaseVersion@Html.Raw("]")    @* Modified by :- Sohel Pathan on 22/05/2014 for PL #469 to display release version from database *@
                        
                        }
                    </div>
                    @* End - Added by :- Pratik Chauhan on 22/09/2014 for PL ticket #468 to display maintenance page *@
                </div>
            </div>
        </div>
    </div>
    <div id="div_contactSupport"></div>
</body>
</html>
<script type="text/javascript">
    $.ajaxSetup({
        beforeSend: function (x) { //Called before every request
            myApp.showPleaseWait();
        },
        error: function (x, e) { // Called when error occured
            myApp.hidePleaseWait();
        }
    });
    $(document).ajaxStop(function () { //Called after every ajax request completed
        myApp.hidePleaseWait();
    });
    var myApp;
    myApp = myApp || (function () {
        var pleaseWaitDiv = $('<div style="z-index:99999" class="modal hide" id="pleaseWaitDialog" data-backdrop="static" data-keyboard="false"><div class="modal-header">Please wait...</div><div class="modal-body"><div class="progress progress-striped active"><div class="bar" style="width: 100%;"></div></div></div></div>');
        return {
            showPleaseWait: function () {
                pleaseWaitDiv.modal();
            },
            hidePleaseWait: function () {
                pleaseWaitDiv.modal('hide');
            },

        };
    })();
    $(document).ready(function () {
        $(".alert").find(".close").on("click", function (e) {
            e.stopPropagation();
            e.preventDefault();
            $(this).closest(".alert").slideUp(400);
        });

        $('#ContactSupport').click(function () {
            $("#div_contactSupport").empty();
            var url = '@Url.Content("~/Login/LoadSupportPartialOnLogin/")';     //// Modified by Sohel Pathan on 23/05/2014 for internal review points.
            $("#div_contactSupport").load(url);
        });
    });
</script>
